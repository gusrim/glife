# gadforestlost
!make this trigger after 2 days in swamp house, minus a countdown per hour
if $ARGS[0] = 'forestrescue':
	!rescue in forest by illume.  I think we need good texts.
	cls
    minut += 150
    lost_girl = 0
	forest_lostday = 0
    hanters = 0
    gs 'stat' 
    
    '<center><img src="images/qwest/gadukino/Swamp/forester.jpg"></center>'
    'You walked in the forest, suddenly spot a man in the form of a Forester.'
    ' - And here is our loss, ` he said wearily. - Your grandfather and grandmother are very worried. I am asked to help. Come, I will take you home.'
	if $loc = 'gadforestrelax':
		!rescued during rest
		if bonfire = 1:
			!have fire
			'It is very smart to stay in place and make fire. It will keep you warm, and making you visable.'
		else
			'stay in place is a good idea while missing.'
		end
	end
    'Quickly assembled, you went under the supervision of the Forester home.'
    act 'Further':gt'Gadhouse'
end

if $ARGS[0] = '1':
	if StoryLine = 1 and forest_lostday > 0 and daystart > forest_lostday and rand(1,10)> 7: gt 'gadforestlost', 'forestrescue' & !add rescue by illume
	$location_type = 'secluded'
    $metka = $ARGS[0]
     $loc = $CURLOC
    gs 'gadukino_event', 'sound'
	cla
	*clr
	wolfrand = rand(1,10)
	hantrand = rand(1,10) 
    gs'stat'
    !gs'time'    

    gs 'gadforestlost', 'gadforestlost'
    
    if wolfrand = 1 and (hour = 23 or hour >= 0 and hour < 6):gt 'gadforest_event', 'lost'  
	
    act 'Look for the road':
   	    cla
   	    *clr
        minut += 60
        manna -= mannamax/20
	    goforest += rand(0,1)
	    lostrand = rand(1,40)
	    gs 'stat'
    
        gs 'gadforestlost', 'lostclothes'

		if goforest > lostrand: 
		    act 'Look for the road on':gs 'gadforestlost', 'gadforestlostfinish1'
        else
            act 'Look for the road on':gt 'gadforestlost','1'
        end    		    
		act 'To take a break':gt 'gadforestrelax'		
    end 
	if rand(1,10)> 8: gs 'gadforest', 'torncloth'
	gs 'gadforestlost', 'searchfood'	
end

if $ARGS[0] = '2':
	if StoryLine = 1 and forest_lostday > 0 and daystart > forest_lostday and rand(1,10)> 8: gt 'gadforestlost', 'forestrescue' & !add rescue by illume
    $location_type = 'secluded'
	$metka = $ARGS[0]
    $loc = $CURLOC
    gs 'gadukino_event', 'sound'
    cls
	wolfrand = rand(1,10)    
    gs'stat'
    !gs'time'

    gs 'gadforestlost', 'gadforestlost'
    
    if wolfrand <= 2 and (hour = 23 or hour >= 0 and hour < 6):gt 'gadforest_event', 'lost'
    if hantrand = 1 and hour > 8 and hour < 20 :forest_lost = 1 & gt 'gadforest_event', 'forest_hanters'     
	
    act 'Look for the road':
   	    cla
   	    *clr
        minut += 60
        manna -= mannamax/20
	    goforest += rand(0,1)
	    lostrand = rand(1,120)
	    gs 'stat'
    
        gs 'gadforestlost', 'lostclothes'		

		if goforest > lostrand: 
		    act 'Look for the road on ':gs 'gadforestlost', 'gadforestlostfinish2'
        else
            act 'Look for the road on':gt 'gadforestlost','2'
   		end
		act 'To take a break':gt 'gadforestrelax'		
    end    		      
	if rand(1,10)> 7: gs 'gadforest', 'torncloth'
	gs 'gadforestlost', 'searchfood'	
end

if $ARGS[0] = '3':
	if StoryLine = 1 and forest_lostday > 0 and daystart > forest_lostday and rand(1,10)> 9: gt 'gadforestlost', 'forestrescue' & !add rescue by illume
    $location_type = 'secluded'
	$metka = $ARGS[0]
    $loc = $CURLOC
    gs 'gadukino_event', 'sound'
    cls
	wolfrand = rand(1,10)    
    gs'stat'
    !gs'time'

    gs 'gadforestlost', 'gadforestlost'

    if wolfrand <= 3 and (hour = 23 or hour >= 0 and hour < 6):gt 'gadforest_event', 'lost'
    if hantrand = 1 and hour > 8 and hour < 20 :forest_lost = 1 & gt 'gadforest_event', 'forest_hanters'    
	
    act 'Look for the road':
   	    cla
   	    *clr
        minut += 60
        manna -= mannamax/20
	    goforest += rand(0,1)
	    lostrand = rand(1,180)
	    gs 'stat'
    
        gs 'gadforestlost', 'lostclothes'		

		if goforest > lostrand: 
		    act 'Look for the road on ':gs 'gadforestlost', 'gadforestlostfinish3'
        else
            act 'Look for the road on':gt 'gadforestlost','3'
   		end
		act 'To take a break':gt 'gadforestrelax'		
    end    		      
	if rand(1,10)> 6: gs 'gadforest', 'torncloth'
	gs 'gadforestlost', 'searchfood'	
end

if $ARGS[0] = '4':
	if StoryLine = 1 and forest_lostday > 0 and daystart > forest_lostday and rand(1,10)> 9: gt 'gadforestlost', 'forestrescue' & !add rescue by illume
	$location_type = 'secluded'
    $metka = $ARGS[0]
    $loc = $CURLOC
    gs 'gadukino_event', 'sound'
    cls
	wolfrand = rand(1,10)    
    gs'stat'
    !gs'time'

    gs 'gadforestlost', 'gadforestlost'
    
    if wolfrand <= 4 and (hour = 23 or hour >= 0 and hour < 6):gt 'gadforest_event', 'lost'
    if hantrand = 1 and hour > 8 and hour < 20 :forest_lost = 1 & gt 'gadforest_event', 'forest_hanters'    
	
    act 'Look for the road':
   	    cla
   	    *clr
        minut += 60
        manna -= mannamax/20
	    goforest += rand(0,1)
	    lostrand = rand(1,300)
	    temp = rand(1,10)
	    gs 'stat'
    
        gs 'gadforestlost', 'lostclothes'		

		act 'Look for the road on ':
		    if goforest > lostrand: gs 'gadforestlost', 'gadforestlostfinish4'
		    if goforest < lostrand and temp > 7:gt 'gadforestswamp','1'
		    if goforest < lostrand and temp <= 7:gt 'gadforestlost','4'
		end    
		act 'To take a break':gt 'gadforestrelax'		
    end
	if rand(1,10)> 7: gs 'gadforest', 'torncloth'
	gs 'gadforestlost', 'searchfood'	
end

if $ARGS[0] = 'gadforestlost':
    '<center><H4>Forest</H4></center>'	
    if month >= 4 and month <= 10:
	    if hour >= 6 and hour < 22:
		    '<center><img src="images/qwest/gadukino/forest/gadforestlost0.'+rand(1,6)+'.jpg"></center>'
		    'You get lost in the woods. Around unfamiliar places and you don`t beauty of nature.'
	    else
		    '<center><img src="images/qwest/gadukino/forest/gadforestlost_night0.'+rand(1,4)+'.jpg"></center>'
		    'You get lost in the woods. This becomes even worse.'
		end    
    else
	    if hour >= 8 and hour < 18:
		    '<center><img src="images/qwest/gadukino/forest/gadforestlost_winter0.'+rand(1,5)+'.jpg"></center>'
		    'You get lost in the woods. Around unfamiliar places and you don`t beauty of nature.'
	    else
		    '<center><img src="images/qwest/gadukino/forest/gadforestlost_winter_night0.'+rand(1,4)+'.jpg"></center>'
		    'You get lost in the woods. This becomes even worse.'
	    end
    end
end
if $ARGS[0] = 'lostclothes':
    if $clothingworntype ! 'nude' and CloSkirtShortness = 0:'<center><img src="images/qwest/gadukino/forest/gadforestsearch0.'+rand(1,4)+'.jpg"></center>'
	if $clothingworntype ! 'nude' and CloSkirtShortness > 0:'<center><img src="images/qwest/gadukino/forest/gadforestsearch_ski0.'+rand(1,4)+'.jpg"></center>'
	if $clothingworntype = 'nude':'<center><img src="images/qwest/gadukino/forest/gadforestsearch_nude0.'+rand(1,4)+'.jpg"></center>'
	'You within an hour wandering through the woods and decided....'
end

if $ARGS[0] = 'gadforestlostfinish':
    '<center><H4>Somewhere in the woods</H4></center>'
    '<center><img src="images/qwest/gadukino/forest/gadjoy.jpg"></center>'
    'You look over and realize that you see their houses, and happy to rush forward.'
	!clear lost flags by illume
    lost_girl = 0
	forest_lostday = 0
    hanters = 0	
end

if $ARGS[0] = 'gadforestlostfinish1':
	cls
	*clr
	temp = RAND(1,3)
	lost = 0
	manna += mannamax/5
	!gs'time'	
	gs 'stat'
	
    gs 'gadforestlost', 'gadforestlostfinish'
    ''
    
	if temp = 1:act 'Out of the woods':minut += 15 & gt'gadforest','1'   
	if temp = 2:act 'Out of the woods':minut += 15 & gt'gadfield','field'    
	if temp = 3:act 'Out of the woods':minut += 15 & gt'gadroad' 
   
end

if $ARGS[0] = 'gadforestlostfinish2':
	cls
	*clr
	temp = RAND(1,5)
	lost = 0
	manna += mannamax/5
	!gs'time'	
	gs 'stat'
	
    gs 'gadforestlost', 'gadforestlostfinish'
    ''
    
	if temp = 1:act 'Out of the woods':minut += 15 & gt'gadforest','1'    
	if temp = 2:act 'Out of the woods':minut += 15 & gt'gadfield','field'    
	if temp = 3:act 'Out of the woods':minut += 15 & gt'gadroad' 
	if temp = 4:act 'Out of the woods':minut += 15 & gt'Gadriver','start'
	if temp = 5:act 'Out of the woods':minut += 15 & gt'Meadow' 

end

if $ARGS[0] = 'gadforestlostfinish3':
	cls
	*clr
	temp = RAND(1,7)
	lost = 0
	manna += mannamax/5
	!gs'time'	
	gs 'stat'
	
    gs 'gadforestlost', 'gadforestlostfinish'
    ''
    
	if temp = 1:act 'Out of the woods':minut += 15 & gt'gadforest','1'    
	if temp = 2:act 'Out of the woods':minut += 15 & gt'gadfield','field'    
	if temp = 3:act 'Out of the woods':minut += 15 & gt'gadroad' 
	if temp = 4:act 'Out of the woods':minut += 15 & gt'Gadriver','start'
    if temp = 5:act 'Out of the woods':minut += 15 & gt'Meadow' 
	if temp = 6:act 'Out of the woods':minut += 15 & nroad = 15 & gt'road'
	if temp = 7:act 'Out of the woods':minut += 15 & nroad = 10 & gt'road'      

end


if $ARGS[0] = 'gadforestlostfinish4':
	cls
	*clr
	temp = RAND(1,9)
	lost = 0
	manna += mannamax/5
	!gs'time'	
	gs 'stat'
	
    gs 'gadforestlost', 'gadforestlostfinish'
    ''
    
	if temp = 1:act 'Out of the woods':minut += 15 & gt'gadforest','1'    
	if temp = 2:act 'Out of the woods':minut += 15 & gt'gadfield','field'    
	if temp = 3:act 'Out of the woods':minut += 15 & gt'gadroad' 
	if temp = 4:act 'Out of the woods':minut += 15 & gt'Gadriver','start'
    if temp = 5:act 'Out of the woods':minut += 15 & gt'Meadow'
	if temp = 6:act 'Out of the woods':minut += 15 & nroad = 15 & gt'road'
	if temp = 7:act 'Out of the woods':minut += 15 & nroad = 10 & gt'road'
	if temp = 8:act 'Out of the woods':minut += 15 & nroad = 10 & gt'road'      
	if temp = 9 and goswamp = 0:act 'Out of the woods':minut += 15 & gt 'gadforestswamp','1'
	if temp = 9 and goswamp = 1:act 'Out of the woods':minut += 15 & gt 'swamp'       
   
end

if $ARGS[0] = 'searchfood':
    if hour >= 6 and hour <= 20 and month >= 6 and month <= 9 and boletus + bilberry < 10:
   	    act 'To look for mushrooms and berries':
   	        cla
            *clr
		    minut += 30
		    new_boletus += rand(1,2)
		    new_bilberry += rand(1,2)
			if new_boletus + new_bilberry > 0:
				boletus += new_boletus
				bilberry += new_bilberry
				manna += mannamax/20
				gs 'stat'	
				
				gs 'gadforest', 'clothes1'
				'You within half an hour of wandering through the woods in search of mushrooms or berries and found <<new_boletus>> kg mushrooms and <<new_bilberry>> kg of berries.'    
			else
				manna -= mannamax/20
		        gs 'gadforest', 'clothes2'
		        'You within half an hour of wandering through the woods in search of mushrooms or berries, but found nothing.'
			end
			gs 'stat'			
		    act 'Further':gt $loc, $metka
        end
    end
end

--- gadforestlost ---------------------------------

